<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مبل فروشی</title>
<style>
body {
    margin: 0;
    font-family: Tahoma, sans-serif;
    background-color: #ffffff;
}
.top-half {
    background-color: #ffffff;
    min-height: 50vh;
    padding: 15px;
    box-sizing: border-box;
}
h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 24px;
    color: #000000;
}
.products {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
}
.item {
    background-color: #6B4F3F;
    border-radius: 15px;
    width: 45%;
    max-width: 180px;
    padding: 10px;
    box-sizing: border-box;
    text-align: center;
    cursor: pointer;
    transition: transform 0.3s ease;
    color: #ffffff;
    text-decoration: none;
}
.item:hover {
    transform: translateY(-5px);
}
.item img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 8px;
}
.item h2 {
    font-size: 16px;
    margin: 5px 0;
}
.bottom-half {
    background-color: #4B3621;
    min-height: 50vh;
    border-top-left-radius: 50px;
    border-top-right-radius: 50px;
    padding: 30px 15px;
    box-sizing: border-box;
    color: #ffffff;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.bottom-half p {
    margin: 8px 0;
    font-size: 16px;
}
@media (max-width: 600px) {
    .item { width: 90%; max-width: 300px; }
    h1 { font-size: 20px; }
    .bottom-half p { font-size: 14px; }
}
</style>
</head>
<body>

<div class="top-half">
    <h1>محصولات ما</h1>
    <div class="products" id="products">
        <!-- محصولات از اینجا اضافه می‌شوند -->
    </div>
</div>

<div class="bottom-half">
    <p>از بازدید شما سپاسگزاریم!</p>
    <p>آدرس: خیابان نمونه، شماره ۱۲۳</p>
    <p>تلفن: ۰۹۱۲۳۴۵۶۷۸۹</p>
    <p>اینستاگرام: @moblekhiali</p>
</div>

<!-- اسکریپت اتصال به Supabase -->
<script type="module">
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

const supabaseUrl = 'https://aiyxqjezvsngzjgkwfxi.supabase.co'
const supabaseKey = 'sb_publishable_uVARW6_YCxLwg8DIYDjYbw_cMxtveHc'
const supabase = createClient(supabaseUrl, supabaseKey)

async function loadProducts() {
    const { data, error } = await supabase
        .from('products')  // نام جدول شما
        .select('*')

    if (error) {
        console.error('خطا در دریافت محصولات:', error)
        return
    }

    const container = document.getElementById('products')
    data.forEach(product => {
        const a = document.createElement('a')
        a.href = product.link || '#'  // لینک صفحه جزئیات
        a.className = 'item'
        a.innerHTML = 
            <img src="${product.image}" alt="${product.name}">
            <h2>${product.name}</h2>
        
        container.appendChild(a)
    })
}

// بارگذاری محصولات هنگام باز شدن صفحه
loadProducts()
</script>

</body>
</html>
